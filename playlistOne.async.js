webpackJsonp([6],{518:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o,u,a=n(15),i=r(a),l=n(219),s=r(l),c=n(522),p=r(c),f=n(216),d=r(f),y=n(217),h=r(y),_=n(520),b=r(_),v=n(521),m=r(v),O=n(3),P=(r(O),n(225)),g=n(125),x=n(231),k=r(x),M=n(224),j=r(M),S=(0,j.default)({loader:function(){return n.e(12).then(n.bind(null,632))},loading:function(){return null}}),w=(0,k.default)(function(){return document.querySelector("audio").play()}),A=(u=o=function(t){function e(){return(0,d.default)(this,e),(0,b.default)(this,(e.__proto__||(0,p.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,h.default)(e,[{key:"componentWillMount",value:function(){this.props.album.id||this.props.album.tracks.length||this.props.handleSyncOne(this.props.params.id)}},{key:"render",value:function(){return(0,s.default)("div",{},void 0,(0,s.default)(S,{style:{transition:"height 0.2s ease-out",height:this.props.enableAudio>0?"calc(100% - 56px)":"100%"},loading:this.props.loading,sid:this.props.sid,title:this.props.album.title,banner:this.props.album.banner,count:this.props.album.count,author:this.props.album.author,avatar:this.props.album.avatar,playlist:this.props.album.tracks,onPlayOne:this.props.handlePlayOne,onPlayAll:this.props.handlePlayAll}))}}]),e}(O.PureComponent),o.contextTypes={router:O.PropTypes.any},u),T=function(t){return t.store.playlists},E=function(t){return t.store.songs},q=function(t){return t.playlist.pid},C=function(t){return t.playlist.loading},F=function(t){return t.player.id},I=function(t){return(t.player.tracks||[]).length>0},J=(0,P.createSelector)(T,E,q,function(t,e,n){var r=t.filter(function(t){return t.id===n}).pop()||{};return(0,i.default)({},r,{banner:r.banner||r.avatar,tracks:r.tracks?r.tracks.map(function(t){return e.filter(function(e){return e.id===t}).pop()}):[]})}),R=(0,P.createSelector)(C,F,J,I,function(t,e,n,r){return{loading:t,sid:e,album:n,enableAudio:r}}),W=function(t){return R(t)},z=function(t){return{handleSyncOne:function(e){t({type:"playlist/sync/one",payload:parseInt(e,10)})},handlePlayAll:function(e){t({type:"player/sync/list",payload:e}),w()},handlePlayOne:function(e){var n=e.id,r=e.name,o=e.author,u=e.album,a=e.banner,i=e.audio;t({type:"player/sync/one",payload:{id:n,name:r,author:o,album:u,banner:a,audio:i}}),w()}}};e.default=(0,g.connect)(W,z)(A),t.exports=e.default},520:function(t,e,n){"use strict";e.__esModule=!0;var r=n(218),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,o.default)(e))&&"function"!=typeof e?t:e}},521:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(523),u=r(o),a=n(527),i=r(a),l=n(218),s=r(l);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,s.default)(e)));t.prototype=(0,i.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.default?(0,u.default)(t,e):t.__proto__=e)}},522:function(t,e,n){t.exports={default:n(531),__esModule:!0}},523:function(t,e,n){t.exports={default:n(524),__esModule:!0}},524:function(t,e,n){n(525),t.exports=n(9).Object.setPrototypeOf},525:function(t,e,n){var r=n(25);r(r.S,"Object",{setPrototypeOf:n(526).set})},526:function(t,e,n){var r=n(45),o=n(22),u=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(44)(Function.call,n(221).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return u(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:u}},527:function(t,e,n){t.exports={default:n(528),__esModule:!0}},528:function(t,e,n){n(529);var r=n(9).Object;t.exports=function(t,e){return r.create(t,e)}},529:function(t,e,n){var r=n(25);r(r.S,"Object",{create:n(123)})},531:function(t,e,n){n(532),t.exports=n(9).Object.getPrototypeOf},532:function(t,e,n){var r=n(56),o=n(223);n(222)("getPrototypeOf",function(){return function(t){return o(r(t))}})}});