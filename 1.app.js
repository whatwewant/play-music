webpackJsonp([1],{15:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(39),n=i(a),l=r(38),o=i(l),s=r(20),T=i(s);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,T.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},16:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(20),n=i(a);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,n.default)(t))&&"function"!=typeof t?e:t}},19:function(e,t,r){e.exports={default:r(30),__esModule:!0}},29:function(e,t,r){r(35);var i=r(5).Object;e.exports=function(e,t){return i.create(e,t)}},30:function(e,t,r){r(36),e.exports=r(5).Object.getPrototypeOf},31:function(e,t,r){r(37),e.exports=r(5).Object.setPrototypeOf},33:function(e,t,r){var i=r(26),a=r(12),n=function(e,t){if(a(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=r(25)(Function.call,r(62).f(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return n(e,r),t?e.__proto__=r:i(e,r),e}}({},!1):void 0),check:n}},35:function(e,t,r){var i=r(9);i(i.S,"Object",{create:r(49)})},36:function(e,t,r){var i=r(34),a=r(63);r(65)("getPrototypeOf",function(){return function(e){return a(i(e))}})},37:function(e,t,r){var i=r(9);i(i.S,"Object",{setPrototypeOf:r(33).set})},38:function(e,t,r){e.exports={default:r(29),__esModule:!0}},39:function(e,t,r){e.exports={default:r(31),__esModule:!0}},96:function(e,t){e.exports="data:image/png;base64,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"},213:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(19),n=i(a),l=r(40),o=i(l),s=r(43),T=i(s),u=r(16),P=i(u),p=r(15),O=i(p),d=r(2),c=i(d),A=r(53),f=r(271),y=i(f),h=r(215),g=i(h),m=r(463),v=i(m),w=function(e){function t(){var e,r,i,a;(0,o.default)(this,t);for(var l=arguments.length,s=Array(l),T=0;T<l;T++)s[T]=arguments[T];return r=i=(0,P.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(s))),i.handleClear=function(){i.props.dispatch({type:"player/clear"})},i.resolve=function(e,t){(0,g.default)("http://musicapi.duapp.com/api.php?type=url&id="+e).then(function(e){return e.data.data[0].url}).then(function(e){console.log(e),t(e)}).catch(function(e){return alert(e.toString())})},a=r,(0,P.default)(i,a)}return(0,O.default)(t,e),(0,T.default)(t,[{key:"render",value:function(){return c.default.createElement("div",{className:y.default.normal},this.props.children,c.default.createElement(v.default,{style:{transition:"transform 0.3s ease-in",transform:this.props.playlist.length>0?"":"translateY(56px)"},id:this.props.id,playlist:this.props.playlist,onResolve:this.resolve,onClear:this.handleClear}))}}]),t}(c.default.PureComponent);t.default=(0,A.connect)(function(e){var t=e.player,r=t.id,i=t.list;return{id:r,playlist:i}})(w),e.exports=t.default},226:function(e,t,r){t=e.exports=r(22)(),t.push([e.id,".playlistMask___1r1vh{-webkit-transition:background-color .45s;transition:background-color .45s}.playlistMaskActive___3IZRJ{display:block;background-color:rgba(0,0,0,.4)}.playlist___32yE-{height:0;-webkit-transition:height .45s ease-out;transition:height .45s ease-out}.playlistActive___3VU8k{height:55%}",""]),t.locals={playlistMask:"playlistMask___1r1vh",playlistMaskActive:"playlistMaskActive___3IZRJ",playlist:"playlist___32yE-",playlistActive:"playlistActive___3VU8k"}},231:function(e,t,r){t=e.exports=r(22)(),t.push([e.id,".normal___30srm{font-family:Roboto,Lato,sans-serif;font-weight:400;margin-top:3em;text-align:center}.title___3eTuB{font-size:2.5rem;font-weight:400;letter-spacing:-1px}.welcome___nECKK{height:328px;background:url("+r(243)+") no-repeat center 0;background-size:388px 328px}.list___32NZ5{font-size:1.2em;margin-top:1.8em;list-style:none;line-height:1.5em}.list___32NZ5 code{background:#f7f7f7}",""]),t.locals={normal:"normal___30srm",title:"title___3eTuB",welcome:"welcome___nECKK",list:"list___32NZ5"}},239:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAACTCAYAAABCicHDAAADJUlEQVR4Ae3cA8yVbxyH8XOybds2h+waw5StIc5hyHZDtjmFKZtD/bPdP+vb9uTz22vd9/XZrnhef/fyfk4IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQDJ1qmmjZeq5mqOypYDnt626G9Q2FG8Ywjv1Nei6ahxKxoIBfA26G4o3DOHrX31SE1WalPD8huIPQzA6qsowBIbwvVeqD0NgCD/arHL7NQSGsNkYwx3VwpMhMITg3/qoVxHG8EVNV+k9GAJDCP69jDpqvHc4qyp7MASGEPxfGjVRfYowhrdqhAozBAeHYNymsbpuvHfYrwp6MASGENwum1ppjOGR6sIQXByCfftu6pkxiCUqswdDYAjBwxRTB40xXFV1PRgCQwgeLpUard5HGMMHNV6lZgiuDcF++FrqkvHe4bAq7sEQGELwODKpBepLhDE8Vz1cHAJDsB9XB/XAeO+wWmVnCB4MIXh8+dVuYwz/qaYMwYMhBI8zrIaoN8bBl8kqrWtDYAj2466kThvvHY6r8gzBgyEEjz+9mqo+RxjD/2oAQ/DooIced3N1y3jvsF3lYggeDCF4WrnURmMMhxiCP0NIoyYa32+45f4QGEJUB13Oq6qOD4EhRHH0babKwCeLbn/5mNs6DKvuqlZ8+ej4EPS4Wqg7UR2Pd3cIfIs5vZquvkR9wQxDcPWHTpXV2agvoWMIrv4YOqxGqrdRXVTr7hA4mFJQ7Y8wAOMye+eGwBB0+y7qkTGClSobR9XcPryaWS0xBvBMdePwqvvH2euqq8YIDqpibh9n5wKX1Gq8+mCcWh6rUnGBi9uXvBVXh433AldUbS55c3wI+rce6rnxc4JFKhMXwbp9WXx2tdp4L/BAdeCyePfvKKOp+s8YwW6V3/EfmzMENdm4P4Q3aogKO39+giGYnVaVuDMtf4fwWU1V6bl7PX+HcEs15w43/R7CRpXLo4M0+OuytJeqVwq6U+57oXjDEJarV2q9KpUCnt926p66rdqFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADJ2Dci6UazkULGmgAAAABJRU5ErkJggg=="},240:function(e,t){e.exports="data:image/png;base64,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"},241:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAACTBAMAAACwp9zwAAAAKlBMVEUAAADOPTrOPTrOPTrOPTrOPTrOPTrOPTrOPTrOPTrOPTrOPTrOPTrOPTrlRlvWAAAADnRSTlMABpHt7pD/iEnm54lK5Oik/W0AAABnSURBVHgB7dS5AUFREAXQa8v1QAFqUIx9K0EqE4mVoASxquT+7qfn5G+bmXcDAABAg8FsOU0vk9XqktxWBdtr2hmtVovksSq6997h2f4Vr+SzKji+085g3r2SgJSTcoCUk3IAAAB8AdgOest8hukyAAAAAElFTkSuQmCC"},242:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAa0lEQVR4AeWSsREDIQwEtwlRhO3vP0JFPLgeHJDdnEfBh2y8F2hHnM5FJ1AayRtLshiE6F8WHUsw9kT0m8BDMFlMotZ10rzuaHtS63qo6s8HWkaLFXpo5ErXyKWukS25dRM5sXz+Pt+Ls/kBnolC6l7shJkAAAAASUVORK5CYII="},243:function(e,t,r){e.exports=r.p+"static/yay.44dd3333.jpg"},256:function(e,t,r){e.exports=r.p+"static/clear.385bf914.svg"},265:function(e,t,r){var i=r(226);"string"==typeof i&&(i=[[e.id,i,""]]);r(21)(i,{});i.locals&&(e.exports=i.locals)},271:function(e,t,r){var i=r(231);"string"==typeof i&&(i=[[e.id,i,""]]);r(21)(i,{});i.locals&&(e.exports=i.locals)},462:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(211),n=i(a),l=r(44),o=i(l),s=r(75),T=i(s),u=r(19),P=i(u),p=r(40),O=i(p),d=r(43),c=i(d),A=r(16),f=i(A),y=r(15),h=i(y),g=r(2),m=i(g),v=r(241),w=i(v),x=r(96),E=i(x),C=r(240),b=i(C),k=r(239),B=i(k),D=r(242),S=i(D),_=r(256),M=i(_),H=r(265),I=i(H),V=["列表循环","单曲循环","随机播放"],U=function(e){return{root:{fontFamily:"Roboto, Lato, sans-serif",position:"fixed",left:0,bottom:0,width:"100%",height:54,padding:4,zIndex:1e4,backgroundColor:"rgba(255, 255, 255, 1)",display:"flex",justifyContent:"space-between"},playlist:{position:"fixed",realMask:{display:e.showList?"block":"none",position:"fixed",left:0,bottom:0,width:"100%",height:"100%",zIndex:10},mask:{position:"fixed",left:0,bottom:0,width:"100%",height:"100%",pointerEvents:"none"},main:{position:"fixed",left:0,bottom:0,width:"100%",zIndex:15,padding:"0 8px",backgroundColor:"#fff",header:{fontSize:16,position:"absolute",left:0,width:"100%",height:64,lineHeight:"64px",padding:"0 8px",display:"flex",justifyContent:"space-between",borderBottom:"1px solid #CCCECD",type:{display:"flex",icon:{}},actions:{display:"flex",collect:{marginRight:8,padding:"0 8px"},clear:{display:"flex",icon:{display:"flex",alignItems:"center"},name:{marginLeft:4}}}},list:{marginTop:64,height:"calc(100% - 64px)",overflowX:"hidden",overflowY:"auto",item:{height:48,borderBottom:"1px solid #CCCECD",display:"flex",justifyContent:"space-between",info:{flex:1,display:"flex",alignItems:"center",cursor:"pointer",width:0,name:{fontSize:16,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},separator:{color:"#8a8a8a",margin:"0 4px"},author:{fontSize:12,color:"#8a8a8a",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},actions:{display:"flex",alignItems:"center",remove:{cursor:"pointer",width:24,height:24,backgroundImage:"url("+S.default+")",backgroundRepeat:"no-repeat",backgroundSize:"cover",filter:"invert(70%)"}}}}}},progressBar:{position:"absolute",bottom:0,left:0,width:"100%",height:2,zIndex:-1,backgroundColor:"#bdbdbd",progress:{position:"relative",width:e.currentTime/e.duration*100+"%",height:"100%",backgroundColor:"#ce3d3e"}},info:{display:"flex",marginTop:2,logo:{width:44,height:44},text:{marginLeft:4,textAlign:"left",display:"flex",flexDirection:"column",justifyContent:"center",name:{fontSize:14,color:"#000",display:"-webkit-box",WebkitLineClamp:"1",WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},author:{fontSize:10,color:"#8a8a8a"}}},btns:{display:"flex",playlist:{width:48,height:48,background:"url("+w.default+") no-repeat",backgroundSize:"cover"},playOrPause:{width:48,height:48,backgroundImage:"url("+(e.playing?b.default:E.default)+")",backgroundRepeat:"no-repeat",backgroundSize:"cover"},next:{width:48,height:48,background:"url("+B.default+") no-repeat",backgroundSize:"cover"}}}},q=function(e){function t(e){(0,O.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,P.default)(t)).call(this,e));return r.onPlayOrPause=function(){r.state.playing?r.setState({playing:!1},function(){r.audio.pause()}):r.setState({playing:!0},function(){r.audio.play()})},r.onPlayNext=function(){if(r.state.playlist.length<=1)return!1;var e=(r.state.nextId+1)%r.state.playlist.length,t=r.state.playlist[e].id;r.audio.pause(),r.setState({id:t,nextId:e,playing:!0},function(){r.audio.playnext()})},r.onTimeUpdate=function(){r.setState({currentTime:r.audio.currentTime})},r.onCanPlay=function(){r.setState({duration:r.audio.duration})},r.onEnd=function(){if(0===r.state.loopType){var e=(r.state.nextId+1)%r.state.playlist.length,t=r.state.playlist[e].id;r.setState({playing:!0,currentTime:0,id:t,nextId:e},function(){r.audio.play()})}else if(1===r.state.loopType)r.setState({playing:!1,currentTime:0});else if(2===r.state.loopType){var i=parseInt(r.state.playlist.length*Math.random(),10)+1,a=r.state.playlist[i].id;r.setState({playing:!0,currentTime:0,id:a,nextId:i},function(){r.audio.play()})}else console.log("Invalid loopType: "+r.state.loopType)},r.onError=function(e){r.state.playing&&r.audio.replay(),r.props.onError(e)},r.onTogglePlaylist=function(){r.setState({showList:!r.state.showList})},r.onChangeLoopType=function(){r.setState({loopType:(r.state.loopType+1)%V.length})},r.onClear=function(){r.setState({playlist:[],playing:!1,showList:!r.state.showList},function(){r.props.onClear(),r.audio.pause()})},r.onPlayOne=function(e){r.audio.pause();var t=r.state.playlist.map(function(e){return e.id}).indexOf(e);r.setState({id:e,nextId:t,playing:!0},function(){r.audio.playnext()})},r.onRemoveOne=function(e){r.setState({playlist:r.state.playlist.filter(function(t){return t.id!==e}),playing:r.state.playlist.length>1&&r.state.id!==e},function(){r.state.playing&&r.state.id!==e||r.audio.pause()})},r.state={playing:!1,currentTime:0,duration:1,id:e.id?e.id:e.playlist.length>0?e.playlist[0].id:null,nextId:e.id!==-1?e.playlist.map(function(e){return e.id}).indexOf(e.id):0,playlist:e.playlist,loopType:1,showList:!1},r}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this;void 0===this.audio.on&&(this.audio.on=function(e,t){return this.addEventListener(e,t,!1),this});var t=this.audio.play.bind(this.audio);this.audio.play=function(){t().catch(function(t){console.log(t),e.audio.replay()})},this.audio.replay=this.audio.playnext=function(){return!!e.state.id&&void e.props.onResolve(e.state.id,function(r){e.audio.src=r,t()})},this.audio.on("timeupdate",this.onTimeUpdate).on("canplay",this.onCanPlay).on("ended",this.onEnd).on("error",this.onError)}},{key:"componentWillReceiveProps",value:function(e){var t=this,r=this.state.playlist.map(function(e){return e.id}),i=e.playlist.filter(function(e){var t=e.id;return r.indexOf(t)===-1});if(0===i.length)return!1;var a=[].concat((0,T.default)(this.state.playlist),(0,T.default)(i));this.setState({id:e.id?e.id:!this.state.id&&a.length>0?a[0].id:this.state.id,playlist:a},function(){a.length>0&&t.onPlayOne(t.state.id)})}},{key:"render",value:function(){var e=this,t=U(this.state),r=this.props.onCollect,i=this.state.playlist,a=i.filter(function(t){var r=t.id;return e.state.id===r}).pop()||{},l=a.banner,s=a.name,T=a.author,u=a.audio;return m.default.createElement("div",{style:(0,o.default)({},t.root,this.props.style)},m.default.createElement("div",{style:t.playlist},m.default.createElement("div",{style:t.playlist.realMask,onClick:this.onTogglePlaylist}),m.default.createElement("div",{style:t.playlist.mask,className:I.default.playlistMask+" "+(this.state.showList?I.default.playlistMaskActive:"")}),m.default.createElement("div",{style:t.playlist.main,className:I.default.playlist+" "+(this.state.showList?I.default.playlistActive:"")},m.default.createElement("div",{style:t.playlist.main.header},m.default.createElement("div",{style:t.playlist.main.header.type},m.default.createElement("div",{style:t.playlist.main.header.type.icon}),m.default.createElement("div",{style:t.playlist.main.header.type.name,onClick:this.onChangeLoopType},V[this.state.loopType],"(",this.state.playlist.length,")")),m.default.createElement("div",{style:t.playlist.main.header.actions},m.default.createElement("div",{style:t.playlist.main.header.actions.collect,onClick:r},m.default.createElement("div",{style:t.playlist.main.header.actions.collect.icon}),m.default.createElement("div",{style:t.playlist.main.header.actions.collect.name},"收藏")),m.default.createElement("div",{style:t.playlist.main.header.actions.clear,onClick:this.onClear},m.default.createElement("div",{style:t.playlist.main.header.actions.clear.icon},m.default.createElement("img",{role:"presentation",src:M.default})),m.default.createElement("div",{style:t.playlist.main.header.actions.clear.name},"清空")))),m.default.createElement("ul",{style:t.playlist.main.list},i.map(function(r){return m.default.createElement("li",{key:r.id,style:(0,n.default)(r.id===e.state.id?{color:"rgb(206, 61, 62)"}:{},t.playlist.main.list.item)},m.default.createElement("div",{style:t.playlist.main.list.item.info,onClick:function(){return e.onPlayOne(r.id)}},m.default.createElement("div",{style:t.playlist.main.list.item.info.icon}),m.default.createElement("div",{style:t.playlist.main.list.item.info.name},r.name),m.default.createElement("span",{style:t.playlist.main.list.item.info.separator},"-"),m.default.createElement("div",{style:t.playlist.main.list.item.info.author},r.author)),m.default.createElement("div",{style:t.playlist.main.list.item.actions},m.default.createElement("div",{style:t.playlist.main.list.item.actions.remove,onClick:function(){return e.onRemoveOne(r.id)}})))})))),m.default.createElement("div",{style:t.progressBar},m.default.createElement("div",{style:t.progressBar.progress})),m.default.createElement("div",{style:t.info},m.default.createElement("img",{style:t.info.logo,role:"presentation",src:l}),m.default.createElement("div",{style:t.info.text},m.default.createElement("div",{style:t.info.text.name},s),m.default.createElement("div",{style:t.info.text.author},T))),m.default.createElement("div",{style:t.btns},m.default.createElement("div",{onClick:this.onTogglePlaylist,style:t.btns.playlist}),m.default.createElement("div",{onClick:this.onPlayOrPause,style:t.btns.playOrPause}),m.default.createElement("div",{onClick:this.onPlayNext,style:t.btns.next})),m.default.createElement("audio",{style:{display:"none"},ref:function(t){return e.audio=t},src:u||"@TODO",loop:1===this.state.loopType}))}}]),t}(g.PureComponent);q.propTypes={id:g.PropTypes.oneOfType([g.PropTypes.number,g.PropTypes.string]),playlist:g.PropTypes.arrayOf(g.PropTypes.shape({id:g.PropTypes.oneOfType([g.PropTypes.number,g.PropTypes.string]),banner:g.PropTypes.string,name:g.PropTypes.string,author:g.PropTypes.string})),onCollect:g.PropTypes.func,onError:g.PropTypes.func,onClear:g.PropTypes.func},q.defaultProps={playlist:[],onError:function(){},onResolve:function(e,t){return t(e)}},t.default=q,e.exports=t.default},463:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(462),n=i(a);t.default=n.default,e.exports=t.default}});